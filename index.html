<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ELIAKIM-N TRACE-X</title>
  <style>
    body {
      background-color: black;
      color: #00ffcc;
      font-family: 'Courier New', monospace;
      padding: 20px;
    }
    h1 {
      text-shadow: 0 0 10px #00ffcc;
    }
    input, textarea, button {
      width: 100%;
      background-color: #111;
      color: #0f0;
      border: 1px solid #00ffcc;
      padding: 10px;
      margin-top: 10px;
    }
    button {
      background-color: #00ffcc;
      color: black;
      font-weight: bold;
      cursor: pointer;
    }
    #output {
      margin-top: 20px;
      white-space: pre-wrap;
      background-color: #111;
      padding: 10px;
      border: 1px solid #00ffcc;
    }
  </style>
</head>
<body>
  <h1>ELIAKIM-N TRACE-X</h1>
  <p>Enter email or phone number:</p>
  <input type="text" id="query" placeholder="e.g. eliakim@gmail.com or +2547xxxxxxx">
  <p>Paste Gmail header or IP (optional):</p>
  <textarea id="header" rows="6" placeholder="Paste Gmail header or IP here..."></textarea>
  <button onclick="trace()">Trace</button>
  <div id="output"></div>

  <script>
    async function trace() {
      const query = document.getElementById('query').value.trim();
      const header = document.getElementById('header').value.trim();
      const output = document.getElementById('output');
      output.innerHTML = `üîç Searching for: ${query}\n`;

      // IP extraction from Gmail header
      let ipMatch = header.match(/Received:\s.*?\[(\d{1,3}(?:\.\d{1,3}){3})\]/);
      if (!ipMatch) ipMatch = header.match(/(\d{1,3}(?:\.\d{1,3}){3})/);
      if (ipMatch) {
        const ip = ipMatch[1];
        output.innerHTML += `\nüì° IP Found: ${ip}\nüåç Fetching location...\n`;
        try {
          const geo = await fetch(`https://ipapi.co/${ip}/json/`);
          const data = await geo.json();
          output.innerHTML += `üåç Location: ${data.city}, ${data.region}, ${data.country_name}\nüì∂ ISP: ${data.org}\nüïí Timezone: ${data.timezone}\n`;

          // WhatsApp call alert via CallMeBot
          const alertURL = `https://api.callmebot.com/call.php?phone=254739320033&text=ELIAKIM-N+TRACE-X+ALERT:+IP+${ip}+traced+to+${data.city}+${data.region}+${data.country_name}&apikey=3610702`;
          await fetch(alertURL);
          output.innerHTML += `üì≤ WhatsApp call alert triggered.\n`;
        } catch (err) {
          output.innerHTML += `‚ö†Ô∏è Error fetching location or sending alert: ${err.message}\n`;
        }
      } else {
        output.innerHTML += `‚ùå No valid IP found in header.\n`;
      }
    }
  </script>
</body>
</html>
